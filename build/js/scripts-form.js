"use strict";const form=document.querySelector(".form"),input=form.querySelectorAll(".input-text__input, .input-email__input, .input-tel__input"),error=form.querySelectorAll(".form__error"),modalError=document.querySelector(".main-form__modal"),modalErrorBtn=modalError.querySelector(".modal__btn"),modalCoplete=document.querySelector(".main-form__modal-complete"),modalCompleteBtn=modalCoplete.querySelector(".modal__btn");modalErrorBtn.onclick=function(){modalError.classList.remove("main-form__modal--open")},modalCompleteBtn.onclick=function(){modalCoplete.classList.remove("main-form__modal-complete--open")};for(let i=0;i<input.length;i++)input[i].addEventListener("input",()=>{checkValid(input[i],error[i])});function checkValid(inputCheck,errorCheck){inputCheck.validity.patternMismatch?errorCheck.className="form__error form__error--active":errorCheck.className="form__error"}form.addEventListener("submit",evt=>{for(let i=0;i<input.length;i++)(input[i].validity.patternMismatch||input[i].validity.valueMissing)&&(error[i].className="form__error form__error--active",evt.preventDefault(),modalError.classList.add("main-form__modal--open"));modalError.classList.contains("main-form__modal--open")||modalCoplete.classList.add("main-form__modal-complete--open")});const textAreaBox=document.querySelector(".form__fieldset-comment-inner"),textArea=textAreaBox.querySelector(".comment"),maxLeng=1e3,message=document.createElement("span");function checkTextArea(len){message.textContent=`Максимум 1000 символов, осталось - ${maxLeng-len}`,maxLeng-len<300?(message.style.backgroundColor="#d22856",message.style.color="#ffffff"):(message.style.backgroundColor="transparent",message.style.color="#283645")}message.textContent=`Максимум 1000 символов, осталось - ${maxLeng}`,message.style.display="block",message.style.padding="10px",textAreaBox.appendChild(message),textArea.addEventListener("input",()=>{checkTextArea(textArea.value.length)});